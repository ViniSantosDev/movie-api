<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
	crossorigin="anonymous">

<title>Filmes</title>
</head>
<body>
	<h3>Cadastrar Filme</h3>
	
		<div class="mb-3">
		<label for="id" class="form-label">id</label> <input
			type=text class="form-control" id="id"
			placeholder="Informe o id" required="required">
	</div>

	<div class="mb-3">
		<label for="nome" class="form-label">Nome do filme</label> <input
			type="text" class="form-control" id="nome"
			placeholder="Informe o nome" required="required">
	</div>
	<div class="mb-3">
		<label for="categoria" class="form-label">Categoria
			do filme</label> <input type="text" class="form-control"
			id="categoria" placeholder="Informe a categoria"
			required="required">
	</div>
	<div class="mb-3">
		<label for="dataLancamento" class="form-label">Data
			de Lançamento do filme </label> <input type="date" class="form-control"
			id="dataLancamento"
			placeholder="Informe a data de Lançamento" required="required">
	</div>
	
	</form>
	<button type="button" class="btn btn-primary" onclick="salvarFilme()">Salvar</button>


	<script src="https://code.jquery.com/jquery-3.6.0.min.js"
		integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
		crossorigin="anonymous"></script>

	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
		crossorigin="anonymous"></script>

	<script type="text/javascript">
		function salvarFilme() {
			var id = $("#id").val();
			var nome = $("#nome").val();
			var categoria = $("#categoria").val();
			var dataLancamento = $("#DataLancamento").val();

			$.ajax({
				method : "POST",
				url : "filmes/salvar",
				data : JSON.stringify({id : id, nome : nome, categoria : categoria, dataLancamento : dataLancamento}),
				contentType : "application/json; charset=utf-8",
				sucess : function(response) {
					alert("Filme salvo com sucesso!");
				}
			}).fail(function(xhr, status, errorThrown) {
				alert("Erro ao salvar filme:" + xhr.responseText);
			});

		}
	</script>




</body>
</html>